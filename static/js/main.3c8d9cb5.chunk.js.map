{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","firestore","App","useAuthState","user","className","SignOut","Channel","SignIn","onClick","provider","GoogleAuthProvider","signInWithPopup","style","paddingRight","width","height","viewBox","xmlns","preserveAspectRatio","d","fill","currentUser","signOut","messageRef","collection","query","orderBy","limit","useCollectionData","idField","message","useState","formValue","setFormValue","sendMessage","e","a","preventDefault","uid","photoURL","add","txt","created_At","FieldValue","serverTimestamp","map","msg","ChatMessage","id","onSubmit","value","onChange","target","placeholder","type","disabled","href","props","messageClass","src","alt","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3c8d9cb5.chunk.js","sourcesContent":["/* eslint-disable no-undef */\nimport React, {useState} from 'react'\nimport './App.css';\n//firebase imports\nimport firebase from 'firebase/app'\nimport 'firebase/auth'\nimport 'firebase/firestore'\n//hooks\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\n\n//firebase config\nfirebase.initializeApp({\n    apiKey: \"AIzaSyCuRrtUd0lBdqlCbHXIP6rtWue6xD9VhYQ\",\n    authDomain: \"chat-react-c9d77.firebaseapp.com\",\n    projectId: \"chat-react-c9d77\",\n    storageBucket: \"chat-react-c9d77.appspot.com\",\n    messagingSenderId: \"1021733886037\",\n    appId: \"1:1021733886037:web:99d7c1c5e408dc5c9c9cdc\"\n});\n\nconst auth = firebase.auth();\nconst firestore = firebase.firestore(); \n\n\nfunction App(){\n\n  const [user] = useAuthState(auth);\n\n  return(\n    <div className=\"App mt-3\">\n    <header className=\"App-header\">\n    <h1>React & firebase chat Room </h1>\n    <SignOut />\n    </header>\n\n    <section>\n      { user ? <Channel /> : <SignIn /> }\n    </section>    \n    </div>\n\n);\n\nfunction SignIn() {\n  const signInWithGoogle = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    auth.signInWithPopup(provider)\n  }\n\n  return (\n    <button className=\"btn btn-secondary\" onClick={signInWithGoogle}>\n    \n<svg style={{paddingRight: 10}} width=\"43\" height=\"50\" viewBox=\"0 0 256 262\" xmlns=\"http://www.w3.org/2000/svg\" preserveAspectRatio=\"xMidYMid\"><path d=\"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027\" fill=\"#4285F4\"/><path d=\"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1\" fill=\"#34A853\"/><path d=\"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782\" fill=\"#FBBC05\"/><path d=\"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251\" fill=\"#EB4335\"/></svg>\n      Sign in with Google\n    </button>\n  )      \n}\n\nfunction SignOut(){\n  return auth.currentUser && (\n\n    <button className=\"btn btn-danger\" onClick={() => auth.signOut()}>\n      Sign Out\n    </button>\n  )\n}\n\n\nfunction Channel() {\n\n  const messageRef = firestore.collection('message');\n  const query = messageRef.orderBy('created_At').limit(25);\n\n  const [message] = useCollectionData(query, {idField: 'id'});\n\n  const [formValue, setFormValue] = useState('');\n\n  const sendMessage = async(e) => {\n      e.preventDefault();\n\n      const { uid, photoURL } = auth.currentUser;\n\n      await messageRef.add({\n        txt: formValue,\n        created_At: firebase.firestore.FieldValue.serverTimestamp(),\n        uid,\n        photoURL,\n      });\n\n      setFormValue('');\n      //dummy.current.scrollIntoView({ behavior: 'smooth' });\n  }\n\n  return (<>\n    <main className=\"container-fluid\">\n      {message && message.map(msg => <ChatMessage key={msg.id} message={msg} />)}\n   \n      {/* <span ref={dummy}></span> */}\n      \n    </main>\n\n    \n    <form onSubmit={sendMessage} className=\"mb-3\">\n\n      <input value={formValue}\n      onChange={(e) => setFormValue(e.target.value)}\n      placeholder=\"Say something cool\"\n      />\n\n      <button type=\"submit\" \n      className=\"btn btn-danger\"\n      disabled={!formValue}>\n      <i className=\"far fa-paper-plane\"></i>\n      </button>\n\n    </form>\n\n      <strong>\n        Develop by <a href=\"https://sergiocampbell.github.io/sacv\">\n          SACV\n        </a>\n      </strong>\n\n    </>)\n}\n\n//messages\nfunction ChatMessage(props) {\n  const { txt, uid, photoURL } = props.message;\n\n  const messageClass = uid === auth.currentUser.uid ? 'sent' : 'received';\n\n  return(\n    <>\n    <div className={`message ${messageClass}`}>\n      \n      <img \n      src={photoURL || 'https://w7.pngwing.com/pngs/571/251/png-transparent-meme-face-internet-meme-rage-comic-trollface-meme-comics-white-face.png'}\n      alt=\"avatar\" \n      height={50}\n      width={50}\n      className=\"rounded-circle border border-info avatar\"/>\n\n      <p className=\"msg\">{txt}</p>\n      \n    </div> \n\n    </>\n  )\n}\n\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}